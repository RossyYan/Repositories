"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleBuildMode=void 0;var _module_mode=require("./module_mode"),_ark_utils=require("../../../ark_utils"),_ark_define=require("../common/ark_define");class ModuleBuildMode extends _module_mode.ModuleMode{constructor(e){super(e)}generateAbc(e){this.prepareForCompilation(e),this.buildModuleSourceMapInfo(),this.executeArkCompiler()}executeArkCompiler(){var e;(0,_ark_utils.isEs2Abc)(this.projectConfig)?(this.generateEs2AbcCmd(),this.addCacheFileArgs(),this.generateMergedAbcOfEs2Abc()):(0,_ark_utils.isTs2Abc)(this.projectConfig)?(this.filterModulesByHashJson(),e=this.getSplittedModulesByNumber(),this.invokeTs2AbcWorkersToGenProto(e),this.processTs2abcWorkersToGenAbc()):this.throwArkTsCompilerError(`Invalid projectConfig.pandaMode for module build, should be either
        "${_ark_define.TS2ABC}" or "${_ark_define.ES2ABC}"`)}}exports.ModuleBuildMode=ModuleBuildMode;