"use strict";var fs=require("fs"),childProcess=require("child_process"),cluster=require("cluster"),SUCCESS=0,FAIL=1,red="[31m",reset="[39m";function js2abcByWorkers(e,c){for(var r=JSON.parse(e),s=0;s<r.length;++s){var o=r[s].path.replace(/\.temp\.js$/,"_.js"),t=r[s].cacheOutputPath,a=t.replace(/\.temp\.js$/,".abc"),i=r[s].sourceFile,t="".concat(c,' "').concat(t,'" -o "').concat(a,'" --source-file "').concat(i,'"');try{childProcess.execSync(t)}catch(e){console.debug(red,"ERROR Failed to convert file ".concat(o," to abc. Error message: ").concat(e),reset),process.exit(FAIL)}}}cluster.isWorker&&void 0!==process.env.inputs&&void 0!==process.env.cmd&&(js2abcByWorkers(process.env.inputs,process.env.cmd),process.exit(SUCCESS));