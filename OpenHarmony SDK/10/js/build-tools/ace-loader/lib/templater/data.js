const reg="{{{((.|\n)+?)}}}|{{((.|\n)+?)}}",dataReg=new RegExp(reg,"g"),expressionReg=new RegExp(reg);function parseData(t){if(t.match(dataReg).forEach(e=>{var a=e.toString().trim().replace(/\n/g,"");t=t.replace(e,a)}),!expressionReg.test(t))return null;var a;let r=0;var n=[];dataReg.lastIndex=0;for(let e=r;e<t.length;e++){var g=dataReg.exec(t);if(!g)break;a=g.index,getValue(r,a,t,n),parseValue(g,n),r=a+g[0].length}return getValue(r,t.length,t,n),n}function getValue(e,a,t,r){e<a&&r.push({value:t.slice(e,a)})}function parseValue(e,a){e=/^{{{.*}}}$/.test(e[0])?e[1]:e[3];a.push({tag:!0,value:e.trim()})}exports.parseText=parseData;