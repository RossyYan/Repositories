"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),pluginName="LiteReturnExportsPlugin",LiteReturnExportsPlugin=function(){function e(){(0,_classCallCheck2.default)(this,e)}return(0,_createClass2.default)(e,[{key:"apply",value:function(t){t.hooks.compilation.tap("SourcemapFixer",function(e){e.hooks.afterProcessAssets.tap("SourcemapFixer",function(a){Reflect.ownKeys(a).forEach(function(e){var t,r;e.toString().includes(".map")&&a[e]&&a[e]._value&&((t=JSON.parse(a[e]._value).sources).forEach(function(e,r){e=e.replace(/\\/g,"/").replace(/webpack:\/\/\/[A-Z]:/g,function(e){return e.toLowerCase()}),t[r]=e}),r=new RegExp(/"sources":\[.*?\]/),a[e]._value=a[e]._value.toString().replace(r,'"sources":'+JSON.stringify(t)))})})});var a=t.webpack.RuntimeGlobals.returnExportsFromRuntime;t.hooks.compilation.tap(pluginName,function(){t.webpack.RuntimeGlobals.returnExportsFromRuntime="__webpack_exports__"}),t.hooks.afterCompile.tapAsync(pluginName,function(e,r){t.webpack.RuntimeGlobals.returnExportsFromRuntime=a,r()})}}]),e}();module.exports=LiteReturnExportsPlugin;