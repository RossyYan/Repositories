"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultTreeAdapter=exports.NodeType=void 0;const html_js_1=require("../common/html.js");var NodeType;function createTextNode(e){return{nodeName:NodeType.Text,value:e,parentNode:null}}!function(e){e.Document="#document",e.DocumentFragment="#document-fragment",e.Comment="#comment",e.Text="#text",e.DocumentType="#documentType"}(NodeType=exports.NodeType||(exports.NodeType={})),exports.defaultTreeAdapter={createDocument(){return{nodeName:NodeType.Document,mode:html_js_1.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:NodeType.DocumentFragment,childNodes:[]}},createElement(e,t,o){return{nodeName:e,tagName:e,attrs:o,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:NodeType.Comment,data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,o){o=e.childNodes.indexOf(o);e.childNodes.splice(o,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,o,d){var n=e.childNodes.find(e=>e.nodeName===NodeType.DocumentType);n?(n.name=t,n.publicId=o,n.systemId=d):(n={nodeName:NodeType.DocumentType,name:t,publicId:o,systemId:d,parentNode:null},exports.defaultTreeAdapter.appendChild(e,n))},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){var t;e.parentNode&&(t=e.parentNode.childNodes.indexOf(e),e.parentNode.childNodes.splice(t,1),e.parentNode=null)},insertText(e,t){if(0<e.childNodes.length){var o=e.childNodes[e.childNodes.length-1];if(exports.defaultTreeAdapter.isTextNode(o))return void(o.value+=t)}exports.defaultTreeAdapter.appendChild(e,createTextNode(t))},insertTextBefore(e,t,o){var d=e.childNodes[e.childNodes.indexOf(o)-1];d&&exports.defaultTreeAdapter.isTextNode(d)?d.value+=t:exports.defaultTreeAdapter.insertBefore(e,createTextNode(t),o)},adoptAttributes(t,o){var d=new Set(t.attrs.map(e=>e.name));for(let e=0;e<o.length;e++)d.has(o[e].name)||t.attrs.push(o[e])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return"#text"===e.nodeName},isCommentNode(e){return"#comment"===e.nodeName},isDocumentTypeNode(e){return e.nodeName===NodeType.DocumentType},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=Object.assign(Object.assign({},e.sourceCodeLocation),t)}};