"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_loaderUtils=_interopRequireDefault(require("loader-utils")),_parser=require("./parser");module.exports=function(e){this.cacheable&&this.cacheable();var r=this.async(),t=_loaderUtils.default.getOptions(this)||{},i=(_loaderUtils.default.parseQuery(this.resourceQuery)||{}).name,e=t.extract?(0,_parser.extractBlocks)(e,"elements"):Promise.resolve({content:e});e.then(function(e){if(t.raw)return e[i].content}).then(function(e){r(null,e)}).catch(function(e){r(e,"")})};